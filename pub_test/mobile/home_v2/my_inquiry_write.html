<!DOCTYPE html> 
<html lang="ko">
<head>
	<meta charset="utf-8"/>
	<meta http-equiv="x-ua-compatible" content="ie=edge"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"/>	
	<meta name="format-detection" content="telephone=no"/>
	<link rel="stylesheet" type="text/css" href="/css/swiper.css"/>
	<link rel="stylesheet" type="text/css" href="/css/mobile_v2/common.css"/>
	<link rel="stylesheet" type="text/css" href="/css/mobile_v2/cs.css"/>
	<script type="text/javascript" src="/mobilefirst/js/lib/jquery-2.1.3.min.js"></script>
    <script type="text/javascript" src="/js/swiper.min.js"></script>
    <script> 
        window.onpageshow = function(event){
            if ( event.persisted ){
                window.location.reload();
            }else{}
        }
    </script>
</head>
<body>

<div id="wrap">
    <header id="header" class="page_header nomargin">
        <div class="header_top">
            <div class="wrap">
                <button href="#" class="btn__sr_back"><i class="icon_arrow_back comm__sprite2">뒤로</i></button>
                <button type="button" class="btn_close_page"><i class="icon_header_close comm__sprite2">닫기</i></button>
                <div class="header_top_page_name">문의 하기</div>
            </div>
        </div>
    </header>

	<section id="container">
        
        <div class="my__cont_sub my__cs_cnt">

            <!-- 문의내역 - 글쓰기 -->
            <div class="write_wrap">
                <fieldset class="write_form">
                    <legend class="blind">문의내역 - 글쓰기</legend>
                    <!--
                        반드시 입력받아야 하는 값은 .write_inp_row.isRequired 클래스를 붙여주세요
                        input / select / textarea의 값이 입력되면 부모 .write_inp_row에 .written 클래스를 붙여주세요.
                        반대로 비워지면 written 클래스 제거해주세요.
                        입력영역의 타이틀과 placeholder를 겸하는 영역은 .write_inp_row의 css pusdo클래스로 입력되어 있으니 class명은 변경하시면 안됩니다.
                    -->
                    <!-- 제목작성 -->
                    <div class="write_inp_row row_title isRequired">
                        <input type="text">
                    </div>
                    <!-- 문의유형 -->
                    <div class="write_inp_row row_type isRequired">
                        <select name="sel_type" id="sel_type">
                            <option value="1">일반서비스</option>
                            <option value="2">구매 후 e머니 적립</option>
                            <option value="3">이벤트 e머니 적립</option>
                            <option value="4">쿠폰 문의</option>
                            <option value="5">기타 문의</option>
                        </select>
                        <i class="ico_select"></i>
                    </div>
                    <!-- 확장 : 문의유형(sel_type) vaule가  2, 3일때 -->
                    <div class="write_inp_row_extend">
                        <span class="extend_tit">적립내역 확인을 위해 필요한 항목입니다.</span>
                        <div class="write_inp_group">
                            <!-- 구매년도 -->
                            <div class="write_inp_row row_date row_date_y">
                                <select name="sel_date_y" id="sel_date_y">
                                    <option></option>
                                    <option>2020</option>
                                    <option>2019</option>
                                    <option>2018</option>
                                    <option>2017</option>
                                    <option>2016</option>
                                </select>
                                <i class="ico_select"></i>
                            </div>
                            <!-- 구매월 -->
                            <div class="write_inp_row row_date row_date_m">
                                <select name="sel_date_m" id="sel_date_m">
                                    <option></option>
                                    <option>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                    <option>4</option>
                                    <option>5</option>
                                    <option>6</option>
                                    <option>7</option>
                                    <option>8</option>
                                    <option>9</option>
                                    <option>10</option>
                                    <option>11</option>
                                    <option>12</option>
                                </select>
                                <i class="ico_select"></i>
                            </div>
                            <!-- 구매일 -->
                            <div class="write_inp_row row_date row_date_d">
                                <select name="sel_date_d" id="sel_date_d">
                                    <option></option>
                                    <option>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                    <option>4</option>
                                    <option>5</option>
                                    <option>6</option>
                                    <option>7</option>
                                    <option>8</option>
                                    <option>9</option>
                                    <option>10</option>
                                </select>
                                <i class="ico_select"></i>
                            </div>
                        </div>
                        <!-- 쇼핑몰 이름-->
                        <div class="write_inp_row row_mall">
                            <input type="text">
                        </div>
                        <!-- 주문번호-->
                        <div class="write_inp_row row_ordernum">
                            <input type="text">
                        </div>
                        <!-- 상품번호-->
                        <div class="write_inp_row row_goodsnum">
                            <input type="text">
                        </div>
                    </div>
                    <!-- // -->
                    <!-- 내용입력 -->
                    <div class="write_inp_row row_comm isRequired">
                        <textarea name="" id="" rows="5"></textarea>
                    </div>
                    <!-- 이미지 등록 -->
                    <div class="write_inp_row row_image">
                        <input class="upload_image" value="이미지 선택(5MB이하)" disabled="disabled">
                        <input type="file" class="upload_image_hidden" name="upload_file_name" id="upload_file_name" accept="image/*">
                        <label for="upload_file_name">등록하기</label>
                        <script>
                            $(function(){ // 파일명 뿌리기
                                var fileTarget = $('.row_image .upload_image_hidden');
                                fileTarget.on('change', function () {
                                    if (window.FileReader) {
                                        var filename = $(this)[0].files[0].name;
                                    } else {
                                        var filename = $(this).val().split('/').pop().split('\\').pop();
                                    }
                                    $(this).siblings('.upload_image').val(filename);
                                });
                            })
                        </script>
                    </div>
                    <!-- 전화번호 -->
                    <div class="write_inp_row row_tel">
                        <input type="tel" maxlength="11">
                        <script>
                            $(function(){//전화번호 숫자만 입력
                                $(".row_tel input[type='tel']").keyup(function(event){
                                    var inputVal = $(this).val();
                                    $(this).val(inputVal.replace(/[^0-9]/gi,''));
                                });
                            })
                        </script>
                    </div>
                    <!-- 버튼 -->
                    <div class="button_row">
                        <button class="btn_cancel">취소</button>
                        <button class="btn_confirm">문의하기</button>
                    </div>
                </fieldset>

                <script>
                    $(function(){ //
                        var $inpRow = $(".write_inp_row input, .write_inp_row select, .write_inp_row textarea"); // 제목, 내용 등 입력
                        var $btnWrite = $(".button_row .btn_confirm"); // 문의하기 버튼
                        var $btnCancel = $(".button_row .btn_cancel"); // 취소 버튼
    
                        $inpRow.on("change keyup paste",function(e){ 
                            var $parent = $(this).closest('.write_inp_row');
                            if ( $(this).prop("tagName") == 'INPUT' || $(this).prop("tagName") == 'TEXTAREA' ){
                                $(this).val().length ? $parent.addClass('written') : $parent.removeClass('written') // 작성완료 여부 체크
                                $parent.removeClass("error");
                            }else if ( $(this).prop("tagName") == 'SELECT' ){
                                var _value = parseInt($(this).val(),10);
                                _value ? $parent.addClass('written') : $parent.removeClass('written'); // 작성완료 여부 체크
                                ( _value == 2 || _value == 3 ) ? $parent.addClass("extend") :  $parent.removeClass("extend"); // 문의유형 2,3일때 추가입력 영역 확장
                                $parent.removeClass("error");
                            }
                        })

                        $btnCancel.click(function(){ //취소하기
                            var cf = confirm('입력한 내용을 취소하고 전페이지로 돌아갑니다.');
                            if ( cf ) window.history.back(-1);
                        })
    
                        $btnWrite.on("click",function(){ // 문의하기
                            var _check = true;
                            $inpRow.each(function(e){
                                var $parent = $(this).closest('.write_inp_row');
                                if ( $parent.hasClass("isRequired") ){
                                    if ( $(this).prop("tagName") == 'INPUT' || $(this).prop("tagName") == 'TEXTAREA' ){
                                        if ( !$.trim($(this).val()).length ){
                                            $parent.addClass("error");
                                            _check = false;
                                        }
                                    }else if ( $(this).prop("tagName") == 'SELECT' ){
                                        if ( !$parent.hasClass("written") ){
                                            $parent.addClass("error");
                                            _check = false;
                                        }
                                    }
                                }
                            })
                            _check ?  alert('문의글등록') : alert('문의글 등록실패');
                        })
                    })
                </script>                
            </div>
            
		</div>
	</section>

	<!-- 푸터 -->
	<footer class="footer">
		<div class="newquick">
        	<p class="TBtn" onclick="javascript:goFooterTop()">TOP</p>
    	</div>
		<p class="legal_notices">
			<span class="txt_tit">법적고지</span>
			㈜써머스플랫폼은 통신판매 정보제공자로서 통신판매의 거래당사자가 아니며, 상품의 주문/배송/환불에 대한 의무와 책임은 각 쇼핑몰(판매자)에게 있습니다.
		</p>
		<p class="company_info">
			<span class="txt_company_name">(주)써머스 플랫폼</span>
			대표이사 : 김기록 / 사업자등록번호 : 206-81-18164 <br/>
			통신판매신고 : 2015-서울중구-1046호<br/>
			서울특별시 중구 퇴계로 18(남대문로5가) 9층<br/>
			문의 : 02-6354-3601 / master@enuri.com<br/>
		</p>
		<p class="footer_menu">
			<a href="#">이용약관</a>
			<a href="#">개인정보처리방침</a>
			<a href="#">법적고지</a>
			<a href="#">PC버전</a>
		</p>
	</footer>
</div>

<script>	
    var position = $(window).scrollTop(); 
    var $mainwrap = $("#wrap");
    var $header = $("header");
    var $headerHeight = $header.outerHeight();
    var posHeader = function(){
        var $myScroll = $(window).scrollTop();
        var $mainCont = $(".my__cs_cnt"); // 작동위치
        if ( $myScroll > $mainCont.offset().top ){
            $mainwrap.css("padding-top", $headerHeight);
            $header.addClass('fixed_top');
            if($myScroll > position) {
                $mainwrap.addClass("scr_down").removeClass("scr_reset scr_up");
            } else {
                $mainwrap.removeClass("scr_down scr_reset").addClass("scr_up");
            }
        }else{
            $mainwrap.removeClass('scr_down scr_up scr_reset')
            $header.removeClass('fixed_top');
            $mainwrap.css("padding-top", 0);
        }
        position = $myScroll;
    };
    $(window).load(posHeader).scroll(posHeader);

    // $(function(){
    //     var nowPos;
	// 	var position = $(window).scrollTop(); 
	// 	var $wrap = $("#wrap");
	// 	var $mhead = $(".m_header"); // 헤더
    //     // 헤더 상단 고정 및 존재여부 판단 후 스타일 재지정    
    //     if ( $mhead.length ){ // 마크업이 존재하고
    //         if ( $(".m_header:not([style*='display:none']):not([style*='display: none'])").length ){ // display:none 되어 있지 않음
    //             $mhead.addClass("fixed_top");
    //             $wrap.css({"padding-top": parseInt($mhead.outerHeight(),10) });
    //         }
    //     }
    //     // 스크롤 방향 체크
    //     var $btnQuick = $(".footer .newquick"); // Top 버튼
	// 	var stickyHead = function(){			
	// 		// TOP버튼 등장 
    //         nowPos = $(window).scrollTop(); 
	// 		if(nowPos > position){
	// 			$wrap.addClass("scr_down").removeClass("scr_reset scr_up");
	// 			$btnQuick.addClass("scr_mode");
	// 		}else{
	// 			$wrap.removeClass("scr_down scr_reset").addClass("scr_up");
	// 		}
	// 		position = nowPos;
	// 	}
	// 	$(window).load(stickyHead).scroll(stickyHead);
	// });

</script>
</body>
</html>
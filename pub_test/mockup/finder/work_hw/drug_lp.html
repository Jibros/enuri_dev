<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="utf-8"/>
	<meta http-equiv="x-ua-compatible" content="ie=edge"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"/>
	<meta name="format-detection" content="telephone=no"/>
	<link rel="stylesheet" type="text/css" href="./resource/css/swiper.css">
	<link rel="stylesheet" type="text/css" href="./resource/css/common.css"/>
	<!-- // -->
	<script type="text/javascript" src="./resource/js/jquery-1.9.1.min.js"></script>
	<script type="text/javascript" src="./resource/js/swiper4.5.3.min.js"></script>

	<!-- 전용 css -->
	<link rel="stylesheet" type="text/css" href="./resource/css/style-drug.css"/>
	<link rel="stylesheet" type="text/css" href="./resource/css/style_search_detail.css"/>
	<link rel="stylesheet" type="text/css" href="./resource/css/spinners.css"/>
</head>
<body>
<!-- 공통 : 로더 -->
<div id="loadingDiv" class="comm__loader">
	<div class="loader_inner">로딩중</div>
</div>
<!-- // 로더 -->
<script>
	$(function(){
		setTimeout(function(){
			$("#loadingDiv").fadeOut(100);
		},100);
	})
</script>
<!-- // -->
<div class="mockup_wrap">
	<div class="mockup_cont">
		<div id="wrap">
			<!-- 헤더 LP - 타입A  (여기만 lp.css 먹는데... 따로빼는게 좋을지..어차피목업이라. )-->
			<header id="header" class="m_header">
				<div class="header_wrap">
					<button href="#" onclick="history.back(); return false;" class="btn_hd_back mock_sprite">뒤로가기</button>
					<h1 class="m_txt">건강보조식품</h1>
					<button class="btn_hd_cate mock_sprite">카테고리</button>
					<button class="btn_hd_sr mock_sprite">검색</button>
					<button class="btn_hd_my mock_sprite">나의정보</button>
				</div>
			</header>
			<!-- // 헤더 -->

			<section class="depth2_list">
				<ul>
					<li><a href="" class="active">전체보기</a></li>
					<li><a href="">오메가-3</a></li>
					<li><a href="">유산균</a></li>
					<li><a href="">크릴오일</a></li>
					<li><a href="">루테인,눈영양제</a></li>
				</ul>
			</section>

			<section class="depth3_list">
				<ul>
					<li><a href="" class="active">
						<div class="ico_target"><img src="./resource/imgs/ico_target_all.png"></div>
						<span class="name">전체</span></a>
					</li>
					<li><a href="">
						<div class="ico_target"><img src="./resource/imgs/ico_target_man.png"></div>
						<span class="name">성인남자</span></a>
					</li>
					<li><a href="">
						<div class="ico_target"><img src="./resource/imgs/ico_target_woman.png"></div>
						<span class="name">성인여자</span></a>
					</li>
					<li><a href="">
						<div class="ico_target"><img src="./resource/imgs/ico_target_baby.png"></div>
						<span class="name">유아/청소년</span></a>
					</li>
					<li><a href="">
						<div class="ico_target"><img src="./resource/imgs/ico_target_senior.png"></div>
						<span class="name">시니어</span></a>
					</li>
				</ul>
			</section>

			<section class="hashtag_list">
				<ul>
					<li><a href="" class="active">#생유산균</a></li>
					<li><a href="">#프로바이오틱스</a></li>
					<li><a href="">#밀크시슬</a></li>
					<li><a href="">#다이어트유산균</a></li>
					<li><a href="">#정세균</a></li>
					<li><a href="">#대장균</a></li>
				</ul>
			</section>

			<!-- 상세검색영역 -->
			<section class="container_nutrient">
				<!-- 정렬옵션, 검색결과 리스트 -->
				<div class="prod_list">
					<div class="list__util">
						<div class="prod_total">
							<p class="tx_cnt">총 <strong>50,478,299</strong>개 상품</p>
						</div>

						<!-- 보기옵션 -->
						<div class="opt_viewtype">
							<!-- default : grid type -->
							<button class="btn btn_grid">그리드모드</button>
							<button class="btn btn_list active">리스트모드</button>

							<script>
								$('.btn_grid').on('click', function(){
									$(this).removeClass('active').next().addClass('active');
									$('.mockup__prdlist img').attr('src','./resource/imgs/type_grid_sample.png');
								});
								$('.btn_list').on('click', function(){
									$(this).removeClass('active').prev().addClass('active');
									$('.mockup__prdlist img').attr('src','./resource/imgs/type_list_sample.png');
								});
							</script>
							<!-- 상세검색사이드바 열기버튼 -->
							<button class="btn btn_detail_search" type="button">상세검색사이드바</button>
							<!-- // -->
						</div>

						<div class="opt_sort">
							<label for="sort_option">인기순</label>
							<select name="sort_option" onchange="selectToLabel(this)" class="select_opt" id="" title="인기순">
								<option value="0" selected="selected">인기순</option>
								<option value="0">최저가순</option>
								<option value="0">최고가순</option>
								<option value="0">신규등록순</option>
								<option value="0">판매량순</option>
								<option value="0">출시예정상품</option>
								<option value="0">상품평많은순</option>
							</select>

							<script>
								// 선택된 옵션값을 라벨에 복사
								function selectToLabel(e){
									var $label = $(e).prev("label");
									$label.html( e.options[e.selectedIndex].text );
								}
							</script>
						</div>
					</div>
				</div>

				<!-- 대카테고리 속성검색 -->
				<div class="detail_cate">
					<ul class="detail_cate_nav">
						<li><a href="" data-target="#idx_01">효능</a></li>
						<li><a href="" data-target="#idx_02">타입</a></li>
						<li><a href="" data-target="#idx_03">함량</a></li>
						<li><a href="" data-target="#idx_04">브랜드</a></li>
					</ul>
				</div>
				<!-- // -->

				<!-- 속성의 하위카테고리 -->
				<div class="detail_subcate_nav">
					<div id="idx_01" class="subcate_wrap">
						<div id="idx_01_swiper" class="swiper-container">
							<div class="swiper-wrapper">
								<div class="swiper-slide">
									<ul>
										<li><a href="">눈건강</a></li>
										<li><a href="">면역력</a></li>
										<li><a href="">영양보충</a></li>
										<li><a href="">피로회복</a></li>
										<li><a href="">뼈건강</a></li>
										<li><a href="">피부</a></li>
										<li><a href="">치아</a></li>
										<li><a href="">체지방감소</a></li>
										<li><a href="">장건강</a></li>
									</ul>
								</div>
								<div class="swiper-slide">
									<ul>
										<li><a href="">치아</a></li>
										<li><a href="">체지방감소</a></li>
										<li><a href="">장건강</a></li>
										<li><a href="">피로회복</a></li>
										<li><a href="">뼈건강</a></li>
										<li><a href="">피부</a></li>
									</ul>
								</div>
							</div>
							<div class="swiper-pagination"></div>
						</div>
						<div class="btn_area">
							<button class="btn btn-reset">초기화</button>
							<button class="btn btn-adj">닫기</button>
						</div>
					</div>
					<div id="idx_02" class="subcate_wrap">
						<ul class="drug_type">
							<li><a href=""><img src="./resource/imgs/icon_type_1@2x.png"><div class="drug_type_name">캡슐</div></a></li>
							<li><a href=""><img src="./resource/imgs/icon_type_2@2x.png"><div class="drug_type_name">정</div></a></li>
							<li><a href=""><img src="./resource/imgs/icon_type_3@2x.png"><div class="drug_type_name">액상</div></a></li>
							<li><a href=""><img src="./resource/imgs/icon_type_4@2x.png"><div class="drug_type_name">분말</div></a></li>
							<li><a href=""><img src="./resource/imgs/icon_type_5@2x.png"><div class="drug_type_name">츄어블</div></a></li>
						</ul>
						<div class="btn_area">
							<button class="btn btn-reset">초기화</button>
							<button class="btn btn-adj">닫기</button>
						</div>
					</div>
					<div id="idx_03" class="subcate_wrap">
						<ul>
							<li><a href="">~10억 CFU</a></li>
							<li><a href="">10억~100억 CFU</a></li>
							<li><a href="">100억 CFU~</a></li>
						</ul>
						<div class="btn_area">
							<button class="btn btn-reset">초기화</button>
							<button class="btn btn-adj">닫기</button>
						</div>
					</div>
					<div id="idx_04" class="subcate_wrap">
						<div id="idx_04_swiper" class="swiper-container">
							<div class="swiper-wrapper">
								<div class="swiper-slide">
									<ul class="drug_brand">
										<li><a href="">종근당건강</a></li>
										<li><a href="">나우푸드</a></li>
										<li><a href="">내츄럴 플러스</a></li>
										<li><a href="">뉴트리원</a></li>
										<li><a href="">풍기인삼</a></li>
										<li><a href="">일화</a></li>
										<li><a href="">JW중외제약</a></li>
										<li><a href="">에이치엘사이언스</a></li>
										<li><a href="">하이엘</a></li>
										<li><a href="">내츄럴 라이즈</a></li>
									</ul>
								</div>
								<div class="swiper-slide">
									<ul class="drug_brand">
										<li><a href="">종근당건강</a></li>
										<li><a href="">나우푸드</a></li>
										<li><a href="">내츄럴 플러스</a></li>
										<li><a href="">JW중외제약</a></li>
										<li><a href="">에이치엘사이언스</a></li>
										<li><a href="">하이엘</a></li>
										<li><a href="">내츄럴 라이즈</a></li>
									</ul>
								</div>
							</div>
							<div class="swiper-pagination"></div>
						</div>
						<div class="btn_area">
							<button class="btn btn-reset">초기화</button>
							<button class="btn btn-adj">닫기</button>
						</div>
					</div>
				</div>
				<!-- // -->
			</section>
			<!-- // -->

			<!-- 리스트출력영역 (임의) -->
			<section class="mockup__prdlist">
				<img src="./resource/imgs/type_grid_sample.png" alt="" />
			</section>

			<!-- 인클루드처리 #include /search_detail.html -->
			<section id="detail_search_area"></section>
			<!-- // -->
		</div>
	</div>
</div>
<script>
	// 스와이프 작동시 생성
	var swiper1 = new Swiper("#idx_01_swiper", {
		slidesPerView: 1,
		spaceBetween: 4,
		pagination: {
			el: ".swiper-pagination"
		}
	});
	// 스와이프 작동시 생성
	var swiper4 = new Swiper("#idx_04_swiper", {
		slidesPerView: 1,
		spaceBetween: 4,
		pagination: {
			el: ".swiper-pagination",
			type: "fraction",
		}
	});

	// 오른쪽 상세카테고리 html 로드
	$(document).ready(function(){
		$('#detail_search_area').load('search_detail.html');
	});

	// 속성및 하위속성 컨트롤
	$('.detail_cate_nav > li > a').on('click', function(e){
		e.preventDefault();
		var this_target = $(this).data('target');

		// 초기화
		// $(this).parent().siblings().find('a').removeClass('is--on is--on-arrow');

		// 화살표가 기준조건이됨.
		// is--on-arrow 있는경우 on / 없으면 off상태
		if($(this).hasClass('is--on-arrow')) { //
			$(this).removeClass('is--on is--on-arrow'); // 닫힐경우이기에 우선 클래스제거
			$(this_target).hide().siblings().hide(); // 탭이닫히기에 전체탭닫히게.

			$('.detail_cate_nav > li > a').each(function(index, item){
				var whole_target = $(item).data('target');
				if($('a', $(whole_target)).hasClass('selected')){  // 해당탭의 선택된 자녀유무체크
					$(this).addClass('is--on'); // 자녀가있으면 버튼은 활성화되게
				} else {
					// 자녀가없으면 이미 다 닫았기때문에 따로 처리할항목없음
				}
			});
		} else {
			// off상태에서 클릭시 해당탭이외 다른탭 체크,, 기존탭이 활성화되어있는데 옆버튼을 누르는경우 대비
			$('.detail_cate_nav > li > a').each(function(index, item){
				var whole_target = $(item).data('target');
				if($('a', $(whole_target)).hasClass('selected')){
					// 자녀가있으면 버튼이 is--on 만 존재하면되기에 is--on-arrow는 제거
					$(item).removeClass('is--on-arrow');
				} else {
					// 옆버튼클릭시 기존탭에 자녀가 없으면 활성화될필요가없기에 전체제거하면됨
					$(item).removeClass('is--on is--on-arrow');
				}
			});
			$(this).addClass('is--on is--on-arrow'); //클릭한 버튼 활성화
			$(this_target).show().siblings().hide(); //클릭한 버튼 대상탭 활성화 나머지는 비활성화
		}

		swiper1.update();
		swiper4.update();

		return false;
	});
	$('.detail_subcate_nav a').on('click', function(e){
		e.preventDefault();
		$(this).toggleClass('selected');
		if($(this).parents('ul').find('.selected').length != 0) {
			$(this).parents('.subcate_wrap').find('.btn-adj').text('적용하기').addClass('active');
		} else {
			$(this).parents('.subcate_wrap').find('.btn-adj').text('닫기').removeClass('active');;
		}
	});
</script>
</body>
</html>